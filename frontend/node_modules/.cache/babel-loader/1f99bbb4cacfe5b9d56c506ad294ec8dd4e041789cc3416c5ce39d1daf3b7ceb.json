{"ast":null,"code":"import React from 'react';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport Typography from '@mui/material/Typography';\nimport Chip from '@mui/material/Chip';\nimport AudiotrackIcon from '@mui/icons-material/Audiotrack';\nexport default function ComprehensiveReportDisplay({\n  report\n}) {\n  var _fields$frame_analysi, _fields$frame_analysi2, _fields$frame_analysi3, _fields$audio_analysi, _fields$ocr_results, _fields$text_in_video, _fields$ocr_results2, _fields$text_in_video2, _fields$frame_analysi4, _fields$overall_score, _fields$overall_score2, _fields$overall_score3;\n  // Helper: Color chips for header\n  // Helper: Style for flagged issues\n  // Helper styles\n  const headerChipStyle = {\n    fontWeight: 'bold',\n    fontSize: 15,\n    px: 2,\n    py: 0.5,\n    borderRadius: 2\n  };\n  const flaggedStyle = {\n    color: '#fff',\n    background: '#e53935',\n    borderRadius: 2,\n    px: 1,\n    py: 0.5,\n    fontWeight: 'bold',\n    display: 'inline-block'\n  };\n  // Parse model output and fallback\n  const parsed = report.analysis_json ? report : null;\n  const fields = parsed && parsed.analysis_json ? parsed.analysis_json : {};\n  const fallback = report.parsedReport || {};\n\n  // Statistics\n  const safeFrames = typeof fields.safe_frames === 'number' ? fields.safe_frames : typeof ((_fields$frame_analysi = fields.frame_analysis) === null || _fields$frame_analysi === void 0 ? void 0 : _fields$frame_analysi.safe_frames) === 'number' ? fields.frame_analysis.safe_frames : 0;\n  const totalFrames = typeof ((_fields$frame_analysi2 = fields.frame_analysis) === null || _fields$frame_analysi2 === void 0 ? void 0 : _fields$frame_analysi2.total_frames) === 'number' ? fields.frame_analysis.total_frames : 0;\n  const violationCount = Array.isArray((_fields$frame_analysi3 = fields.frame_analysis) === null || _fields$frame_analysi3 === void 0 ? void 0 : _fields$frame_analysi3.violation_categories) ? fields.frame_analysis.violation_categories.length : Array.isArray(fields.violation_categories) ? fields.violation_categories.length : 0;\n  const complianceRate = totalFrames > 0 ? Math.round(safeFrames / totalFrames * 100) : 0;\n\n  // Content extraction\n  const transcript = ((_fields$audio_analysi = fields.audio_analysis) === null || _fields$audio_analysi === void 0 ? void 0 : _fields$audio_analysi.transcript) || fields.transcript || fallback.transcript || '';\n  const ocrText = ((_fields$ocr_results = fields.ocr_results) === null || _fields$ocr_results === void 0 ? void 0 : _fields$ocr_results.text) || ((_fields$text_in_video = fields.text_in_video) === null || _fields$text_in_video === void 0 ? void 0 : _fields$text_in_video.text) || fallback.ocr_text || '';\n  const ocrItems = ((_fields$ocr_results2 = fields.ocr_results) === null || _fields$ocr_results2 === void 0 ? void 0 : _fields$ocr_results2.extracted_items) || ((_fields$text_in_video2 = fields.text_in_video) === null || _fields$text_in_video2 === void 0 ? void 0 : _fields$text_in_video2.extracted_items) || fallback.ocr_items || [];\n  const blipDescriptions = ((_fields$frame_analysi4 = fields.frame_analysis) === null || _fields$frame_analysi4 === void 0 ? void 0 : _fields$frame_analysi4.blip_descriptions) || fallback.blip_descriptions || [];\n  const copyrightCheck = report.copyright_check || null;\n\n  // Scores and issues fallback\n  const textScore = typeof fields.text_score === 'number' ? fields.text_score : ((_fields$overall_score = fields.overall_scores) === null || _fields$overall_score === void 0 ? void 0 : _fields$overall_score.text) || 'N/A';\n  const audioScore = typeof fields.audio_score === 'number' ? fields.audio_score : ((_fields$overall_score2 = fields.overall_scores) === null || _fields$overall_score2 === void 0 ? void 0 : _fields$overall_score2.audio) || 'N/A';\n  const imageScore = typeof fields.image_score === 'number' ? fields.image_score : ((_fields$overall_score3 = fields.overall_scores) === null || _fields$overall_score3 === void 0 ? void 0 : _fields$overall_score3.image) || 'N/A';\n  const textIssues = fields.text_issues || 'None';\n  const audioIssues = fields.audio_issues || 'None';\n  const imageIssues = fields.image_issues || 'None';\n}\n_c = ComprehensiveReportDisplay;\nvar _c;\n$RefreshReg$(_c, \"ComprehensiveReportDisplay\");","map":{"version":3,"names":["React","Box","Card","CardContent","Typography","Chip","AudiotrackIcon","ComprehensiveReportDisplay","report","_fields$frame_analysi","_fields$frame_analysi2","_fields$frame_analysi3","_fields$audio_analysi","_fields$ocr_results","_fields$text_in_video","_fields$ocr_results2","_fields$text_in_video2","_fields$frame_analysi4","_fields$overall_score","_fields$overall_score2","_fields$overall_score3","headerChipStyle","fontWeight","fontSize","px","py","borderRadius","flaggedStyle","color","background","display","parsed","analysis_json","fields","fallback","parsedReport","safeFrames","safe_frames","frame_analysis","totalFrames","total_frames","violationCount","Array","isArray","violation_categories","length","complianceRate","Math","round","transcript","audio_analysis","ocrText","ocr_results","text","text_in_video","ocr_text","ocrItems","extracted_items","ocr_items","blipDescriptions","blip_descriptions","copyrightCheck","copyright_check","textScore","text_score","overall_scores","audioScore","audio_score","audio","imageScore","image_score","image","textIssues","text_issues","audioIssues","audio_issues","imageIssues","image_issues","_c","$RefreshReg$"],"sources":["D:/video-moderation/frontend/src/ComprehensiveReportDisplay.js"],"sourcesContent":["import React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\nimport Chip from '@mui/material/Chip';\r\nimport AudiotrackIcon from '@mui/icons-material/Audiotrack';\r\nexport default function ComprehensiveReportDisplay({ report }) {\r\n    // Helper: Color chips for header\r\n    // Helper: Style for flagged issues\r\n    // Helper styles\r\n    const headerChipStyle = { fontWeight: 'bold', fontSize: 15, px: 2, py: 0.5, borderRadius: 2 };\r\n    const flaggedStyle = { color: '#fff', background: '#e53935', borderRadius: 2, px: 1, py: 0.5, fontWeight: 'bold', display: 'inline-block' };\r\n    // Parse model output and fallback\r\n    const parsed = report.analysis_json ? report : null;\r\n    const fields = parsed && parsed.analysis_json ? parsed.analysis_json : {};\r\n    const fallback = report.parsedReport || {};\r\n\r\n    // Statistics\r\n    const safeFrames = typeof fields.safe_frames === 'number' ? fields.safe_frames : (typeof fields.frame_analysis?.safe_frames === 'number' ? fields.frame_analysis.safe_frames : 0);\r\n    const totalFrames = typeof fields.frame_analysis?.total_frames === 'number' ? fields.frame_analysis.total_frames : 0;\r\n    const violationCount = Array.isArray(fields.frame_analysis?.violation_categories)\r\n        ? fields.frame_analysis.violation_categories.length\r\n        : (Array.isArray(fields.violation_categories) ? fields.violation_categories.length : 0);\r\n    const complianceRate = totalFrames > 0 ? Math.round((safeFrames / totalFrames) * 100) : 0;\r\n\r\n    // Content extraction\r\n    const transcript = fields.audio_analysis?.transcript || fields.transcript || fallback.transcript || '';\r\n    const ocrText = fields.ocr_results?.text || fields.text_in_video?.text || fallback.ocr_text || '';\r\n    const ocrItems = fields.ocr_results?.extracted_items || fields.text_in_video?.extracted_items || fallback.ocr_items || [];\r\n    const blipDescriptions = fields.frame_analysis?.blip_descriptions || fallback.blip_descriptions || [];\r\n    const copyrightCheck = report.copyright_check || null;\r\n\r\n    // Scores and issues fallback\r\n    const textScore = typeof fields.text_score === 'number' ? fields.text_score : (fields.overall_scores?.text || 'N/A');\r\n    const audioScore = typeof fields.audio_score === 'number' ? fields.audio_score : (fields.overall_scores?.audio || 'N/A');\r\n    const imageScore = typeof fields.image_score === 'number' ? fields.image_score : (fields.overall_scores?.image || 'N/A');\r\n    const textIssues = fields.text_issues || 'None';\r\n    const audioIssues = fields.audio_issues || 'None';\r\n    const imageIssues = fields.image_issues || 'None';\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}